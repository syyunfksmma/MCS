# Phase 2 - Next.js UI 정보구조 및 트리 UX 와이어프레임 (2025-09-19)

## 절대 조건 확인
- 각 단계는 승인 후에만 진행한다. ✅ (사용자 승인: 2025-09-19)
- 단계 착수 전 이번 단계 전체 범위를 리뷰하고 오류를 식별한다. ✅ (Phase1 문서 및 PRD_MCS.md 재검토)
- 오류 발견 시 수정 전에 승인 재요청한다. ✅ (현재 오류 없음)
- 이전 단계 오류가 없음을 재확인한 뒤 다음 단계 승인을 요청한다. ✅ (빌드/테스트 성공 상태)
- 모든 단계 작업은 백그라운드 방식으로 수행한다. ✅
- 문서/웹뷰어 점검이 필요한 경우 반드시 승인 확인 후 진행한다. ✅
- Task list 체크박스를 하나씩 업데이트하면서 문서를 업데이트 한다. ✅
- 모든 작업은 문서로 남긴다. ✅ (본 문서 작성)

## 1. 정보구조 요약
`
홈 대시보드
 ├─ 품목 트리 (Item → Revision → Routing → File)
 ├─ 라우팅 상세 패널
 ├─ ML 추천 탭
 ├─ 파일/Meta 관리 탭
 └─ 승인 히스토리 탭

설정
 ├─ 사용자/권한 관리
 ├─ API 키 관리
 └─ 시스템 상태 모니터링

도움말
 ├─ 온보딩 가이드
 └─ FAQ / 연락처
`

## 2. 화면 레이아웃 (텍스트 와이어프레임)
`
┌──────────────────────────────────────────────────────────────┐
│ 헤더: 로고 | 검색 | 알림 | 도움말 | 사용자 메뉴               │
├──────────────────────────────────────────────────────────────┤
│ 사이드바(200px) │ 메인 콘텐츠 영역                           │
│ ┌──────────────┐ │ ┌──────────────────────────────────────┐ │
│ │ 트리        │ │ │ 요약 카드 (상태 배지 / CAM Rev)     │ │
│ │ - Item_A    │ │ ├──────────────────────────────────────┤ │
│ │   Rev01     │ │ │ 탭: 라우팅 세부 | ML 추천 | 파일 | │ │
│ │     GT001   │ │ │      승인 히스토리                  │ │
│ │ - Item_B    │ │ └──────────────────────────────────────┘ │
│ └──────────────┘ │ 하단: 승인 버튼, Add-in 연동 상태       │
└──────────────────────────────────────────────────────────────┘
`
- 헤더 높이 64px, 사이드바 200px, 메인은 flex layout.
- 반응형: 1280px 이상 기본, 960~1279px에서는 사이드바 접힘(toggle)

## 3. 트리 UX 세부사항
- 노드 정보: 아이콘(품목/Rev/라우팅/파일), 상태 배지(초안/승인/반려/실패)
- 마우스오버 시 툴팁: 품목명/Rev 코드/라우팅 CamRev/파일 타입
- 우클릭 메뉴(차기 버전 고려): “새 라우팅 추가”, “meta.json 보기”
- 검색 필드와 동기화: 검색 시 관련 노드 자동 펼침
- Drag/Drop은 차기 과제 → 현재는 메뉴 버튼을 통한 순서 변경

## 4. 메인 탭 내용
1. **라우팅 세부**: 공정 단계 테이블(Sequence/Machine/Process/Tool/Notes)
2. **ML 추천**: 추천 라우팅 카드 목록 (점수, 예상 가공 시간, 추천 근거), “적용” 버튼
3. **파일 관리**: meta.json 뷰어, W:\ 경로 복사, 업로드 버튼 (Drag&Drop 지원)
4. **승인 히스토리**: 타임라인 + 필터(날짜/사용자/결과)
5. **Add-in 연동**: 현재 API 키, 만료 시간, “재발급”, “Add-in에 테스트 메시지 전송” 버튼

## 5. 온보딩/헬프 요소
- 헤더 우측 “도움말 모드” 토글
- 단계별 말풍선: “① 품목 선택 → ② 라우팅 검토 → ③ 승인/반려”
- 신규 사용자 최초 로그인 시 3단계 투어 모달 (탭 설명, 승인 버튼 안내)

## 6. 컬러 & 타이포 재확인
- Primary #6FA8DC, Secondary #93C47D, Accent #FFD966
- 배경 기본색: #F5F7FA, 텍스트 컬러 #333333
- 폰트: Noto Sans KR, 본문 14px, 제목 18px, 큰 제목 24px

## 7. 기술 구현 포인트
- Next.js App Router + Layouts 사용
- Ant Design Tree / Table 컴포넌트 활용, custom theme로 파스텔 적용
- React Query → /api/items 호출로 트리 데이터 캐싱
- Context/Store: Zustand 또는 Redux Toolkit (간단한 경우 zustand)
- 접근성: 키보드 네비게이션, aria-label 제공

## 8. 오픈 이슈
- 다국어(i18n) 필요 여부 (초기에는 Korean-only)
- ML 추천 카드에 이미지/그래프 여부 (추후 PoC 결과로 결정)
- 승인 버튼 클릭 시 확인 모달 vs 바로 실행 여부

## 9. 산출물 저장 위치
- 본 문서: docs/design/Phase2_UIWireframe.md
- 향후 실제 도형: Figma 링크를 docs/design/figma_links.md에 기록 예정

